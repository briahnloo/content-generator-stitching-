# Categories for viral clips pipeline
# Enhanced with subcategories for thematic coherence in compilations
# Focus: INSTANT VISUAL COMEDY - no narrative/trend content

categories:
  fails:
    name: "Epic Fails"
    keywords:
      - fail
      - fails
      - accident
      - gone wrong
      - oops
      - mishap
      - instant regret
      - wcgw
      - what could go wrong
    hashtags:
      - "#fail"
      - "#fails"
      - "#epicfail"
      - "#instantregret"
      - "#wcgw"
    compilation_titles:
      - "Try Not To Laugh: {count} Epic Fails"
      - "Fails of the Day #{part}"
      - "When Things Go Wrong #{part}"
      - "Instant Regret Compilation #{part}"
    mood: upbeat
    subcategories:
      physical:
        name: "Physical Fails"
        description: "Falls, trips, crashes, physical accidents - VISUAL ONLY"
        keywords: ["fall", "trip", "crash", "slip", "tumble", "wipeout", "faceplant"]
        min_confidence: 0.6
      skill:
        name: "Skill Fails"
        description: "Failed tricks, sports fails, DIY gone wrong - must SEE the fail"
        keywords: ["trick", "attempt", "try", "diy", "sport", "stunt", "jump"]
        min_confidence: 0.6
      social:
        name: "Social Fails"
        description: "Caught on camera moments - must be visually obvious"
        keywords: ["caught", "cringe", "regret", "oops"]
        min_confidence: 0.65

  comedy:
    name: "Comedy Gold"
    keywords:
      - funny
      - comedy
      - hilarious
      - lol
      - humor
    hashtags:
      - "#funny"
      - "#comedy"
      - "#humor"
      - "#lol"
    compilation_titles:
      - "Try Not To Laugh #{part}"
      - "{count} Hilarious Moments"
      - "Comedy Gold Compilation #{part}"
      - "Funny Moments #{part}"
    mood: upbeat
    subcategories:
      physical:
        name: "Physical Comedy"
        description: "Slapstick, physical humor - funny WITHOUT audio"
        keywords: ["slapstick", "physical", "clumsy", "bonk", "hit"]
        min_confidence: 0.6
      reaction:
        name: "Reaction Comedy"
        description: "Funny FACES and expressions - not reaction videos to other content"
        keywords: ["expression", "surprised", "shocked", "face"]
        min_confidence: 0.65
      animal:
        name: "Animal Comedy"
        description: "Animals doing visually funny things"
        keywords: ["cat", "dog", "pet", "animal", "derp"]
        min_confidence: 0.6

# ============================================================================
# NARRATIVE/TREND REJECTION - These formats don't work in compilations
# ============================================================================

narrative_rejection:
  # Regex patterns to detect trend/narrative formats in descriptions
  # These are ALWAYS rejected - they require context/audio to understand

  trend_patterns:
    # "Telling X that Y" format - reaction bait
    - 'telling\s+(my|his|her|their)\s+\w+'
    - 'told\s+(my|his|her|their)\s+\w+'
    - 'when\s+i\s+told'
    - 'when\s+he\s+told'
    - 'when\s+she\s+told'

    # POV format - requires context
    - 'pov[\s:\-]'
    - 'pov\s+you'
    - 'pov\s+when'
    - 'pov\s+your'

    # "Watch till end" - means setup required
    - 'watch\s+till'
    - 'wait\s+for\s+it'
    - 'wait\s+till'
    - 'watch\s+until'
    - 'stay\s+till'
    - 'wait\s+for\s+the\s+end'

    # Story/skit format
    - 'part\s+\d+'
    - 'episode\s+\d+'
    - 'storytime'
    - 'story\s+time'

    # Reaction to other content
    - 'reacting\s+to'
    - 'my\s+reaction'
    - 'his\s+reaction'
    - 'her\s+reaction'
    - 'their\s+reaction'
    - 'reaction\s+to'

    # Dialogue-dependent formats
    - 'what\s+he\s+said'
    - 'what\s+she\s+said'
    - 'what\s+i\s+said'
    - 'the\s+way\s+he'
    - 'the\s+way\s+she'
    - 'listen\s+to\s+this'
    - 'hear\s+what'

    # Relationship/drama bait
    - 'caught\s+(my|him|her)\s+(bf|gf|boyfriend|girlfriend|husband|wife|partner)'
    - 'found\s+(my|his|her)\s+\w+\s+on'
    - 'cheating'
    - 'confronted'
    - 'exposed\s+(my|him|her)'

    # "This is how" explainer format
    - 'this\s+is\s+how'
    - 'this\s+is\s+why'
    - 'this\s+is\s+what'
    - 'let\s+me\s+explain'
    - "here's\\s+why"
    - "here's\\s+how"

    # Suspense/cliffhanger
    - "you\\s+won't\\s+believe"
    - "i\\s+can't\\s+believe"
    - 'plot\s+twist'
    - 'the\s+ending'
    - 'unexpected\s+ending'

    # Trend sounds/formats
    - 'using\s+this\s+sound'
    - 'trend'
    - 'duet\s+this'
    - 'stitch\s+this'

  # Keywords that strongly indicate narrative content
  narrative_keywords:
    - storytime
    - story time
    - part 1
    - part 2
    - part 3
    - episode
    - chapter
    - update
    - context
    - backstory
    - explaining
    - explained
    - the reason
    - heres why
    - let me tell you
    - so basically
    - long story short

  # Hashtags that indicate narrative/trend content
  narrative_hashtags:
    - "#storytime"
    - "#pov"
    - "#skit"
    - "#acting"
    - "#trend"
    - "#duet"
    - "#stitch"
    - "#greenscreen"
    - "#greenscreenvideo"
    - "#relatable"
    - "#relateable"
    - "#couple"
    - "#couples"
    - "#relationship"
    - "#boyfriend"
    - "#girlfriend"
    - "#drama"
    - "#exposed"
    - "#tea"
    - "#spill"
    - "#rant"

# ============================================================================
# HARD REJECTION CRITERIA
# ============================================================================

rejection_criteria:
  hard_reject:
    # Content types that never work in compilations
    - dancing
    - choreography
    - dance challenge
    - thirst trap
    - modeling
    - posing
    - outfit check
    - ootd
    - grwm
    - get ready with me
    - advertisement
    - ad
    - sponsored
    - promotion
    - lip sync
    - singing
    - karaoke
    - beauty
    - makeup
    - skincare
    - tutorial
    - routine
    - day in my life
    - vlog
    - motivational
    - inspirational
    - couples content
    - relationship goals
    - asmr
    - eating
    - mukbang
    - unboxing
    - haul
    - review
    - storytime
    - story time
    - pov
    - skit
    - acting
    - roleplay

  soft_reject:
    # Reject unless VERY strong visual comedy signal
    - rant
    - drama
    - news
    - political
    - educational
    - informative

# ============================================================================
# VISUAL INDEPENDENCE SIGNALS
# ============================================================================

visual_signals:
  # Signals that content works WITHOUT audio
  high_visual_independence:
    - physical action visible
    - facial expression is the joke
    - object falling or breaking
    - animal doing something
    - kid doing something
    - visible impact or collision
    - before/after in same frame
    - physical transformation
    - instant payoff
    - no text required to understand

  # Signals that content NEEDS audio
  low_visual_independence:
    - dialogue is the punchline
    - reaction to something off-screen
    - requires audio to understand
    - text overlay is the joke
    - voiceover dependent
    - music sync dependent
    - sound effect is the joke
    - listening to something
    - responding to audio
    - conversation based

# ============================================================================
# COMPILATION SUITABILITY
# ============================================================================

compilation_quality:
  # Perfect for rapid-fire compilations
  high_quality:
    - instant visual payoff
    - funny in first 3 seconds
    - clear subject
    - self-contained moment
    - no context needed
    - works on mute

  # Not suitable for compilations
  low_quality:
    - slow build up
    - requires audio
    - text-heavy overlay
    - references other content
    - inside joke
    - requires context
    - punchline at end
    - narrative structure
    - multi-part story

music_moods:
  upbeat:
    - energetic.mp3
    - fun.mp3
    - happy.mp3
    - comedic.mp3

# ============================================================================
# COMPILATION DISCOVERY - Finding existing compilation videos to stitch
# ============================================================================

compilation_discovery:
  # Hashtags for compilation discovery (OPTIMIZED - top performers only)
  # These are searched in a SINGLE batched API call
  hashtags:
    # Fails (priority)
    - failscompilation
    - epicfails
    - failarmy
    - instantkarma
    # Animals (priority)
    - funnyanimals
    - funnypets
    - animalsoftiktok
    - animalsbeingderps
    # Babies/Kids (priority)
    - funnybaby
    - funnykids
    - babiesoftiktok
    # General compilations
    - trynottolaugh
    - funnycompilation
    - dailyfails
    - viralcompilation

  # Regex patterns in descriptions that indicate compilation videos
  description_patterns:
    - 'top\s*\d+'                    # "top 10", "top5"
    - 'best\s+(of|moments)'          # "best of 2024", "best moments"
    - 'compilation'                  # "fails compilation"
    - 'try\s*not\s*to\s*laugh'       # "try not to laugh"
    - 'daily\s*(dose|fails)'         # "daily dose", "daily fails"
    - '\d+\s*[.\-)\]]\s*\d+'         # "5. 4." or "5 - 4" countdown
    - 'part\s*\d+\s*of\s*\d+'        # "part 1 of 3" (multi-part compilations OK)
    - 'funniest\s+(moments|videos)'  # "funniest moments"
    - 'viral\s+(moments|clips)'      # "viral moments"

  # Author name patterns (accounts dedicated to compilations)
  author_patterns:
    - compilation
    - daily
    - fails
    - funny
    - viral
    - moments
    - clips

  # Duration filters
  min_duration_seconds: 45
  max_duration_seconds: 300
  preferred_min_duration: 60
  preferred_max_duration: 180

  # Quality thresholds for source compilations
  min_quality_score: 0.6
  min_estimated_clips: 3

# ============================================================================
# TALKING HEAD / SINGLE-SPEAKER REJECTION
# Filters out videos where someone is talking to camera - doesn't work in compilations
# ============================================================================

talking_head_rejection:
  # Author name patterns indicating talking-to-camera content
  author_patterns:
    - podcast
    - talks
    - speaks
    - explains
    - reacts
    - commentary
    - reviews
    - opinions
    - rants

  # Description patterns indicating someone talking (regex)
  description_patterns:
    - 'i think'
    - 'in my opinion'
    - 'let me explain'
    - 'hear me out'
    - 'unpopular opinion'
    - 'hot take'
    - 'my thoughts'
    - 'thoughts on'
    - 'my take on'
    - 'speaking of'
    - 'rant about'
    - 'ranting'
    - 'need to talk'
    - 'can we talk'
    - 'talking about'
    - 'discussing'
    - 'my opinion on'
    - 'here is why'
    - 'explaining why'
    - 'addressing'
    - 'response to'
    - 'reacting to'

  # Hashtags that indicate talking/commentary content
  hashtags:
    - "#podcast"
    - "#commentary"
    - "#reaction"
    - "#reactions"
    - "#rant"
    - "#rants"
    - "#opinion"
    - "#opinions"
    - "#hottake"
    - "#unpopularopinion"
    - "#thoughts"
    - "#mythoughts"
    - "#greenscreen"
    - "#greenscreenvideo"
    - "#storytime"
    - "#chatty"
    - "#talkinghead"
    - "#discussion"
    - "#responding"
    - "#reply"
